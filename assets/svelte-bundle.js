!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let s,l;function a(t,e){return s||(s=document.createElement("a")),s.href=e,t===s.href}function i(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function u(t,e,n){t.$$.on_destroy.push(i(e,n))}function f(t){return null==t?"":t}function d(t,e,n){return t.set(n),e}function p(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function $(){return y(" ")}function b(){return y("")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function k(t){return function(e){return e.preventDefault(),t.call(this,e)}}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.data!==e&&(t.data=e)}function E(t,e){t.value=null==e?"":e}function L(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function C(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function A(t){l=t}function j(t){(function(){if(!l)throw new Error("Function called outside component initialization");return l})().$$.on_mount.push(t)}const q=[],N=[];let P=[];const O=[],z=Promise.resolve();let I=!1;function D(){I||(I=!0,z.then(B))}function H(t){P.push(t)}const T=new Set;let U=0;function B(){if(0!==U)return;const t=l;do{try{for(;U<q.length;){const t=q[U];U++,A(t),M(t.$$)}}catch(t){throw q.length=0,U=0,t}for(A(null),q.length=0,U=0;N.length;)N.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];T.has(e)||(T.add(e),e())}P.length=0}while(q.length);for(;O.length;)O.pop()();I=!1,T.clear(),A(t)}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const R=new Set;function F(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];P.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),P=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function X(c,s,a,i,u,f,d,p=[-1]){const h=l;A(c);const m=c.$$={fragment:null,ctx:[],props:f,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(h?h.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:s.target||h.$$.root};d&&d(m.root);let v=!1;if(m.ctx=a?a(c,s.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return m.ctx&&u(m.ctx[t],m.ctx[t]=o)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](o),v&&function(t,e){-1===t.$$.dirty[0]&&(q.push(t),D(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(c,t)),e})):[],m.update(),v=!0,o(m.before_update),m.fragment=!!i&&i(m.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);m.fragment&&m.fragment.l(t),t.forEach(g)}else m.fragment&&m.fragment.c();s.intro&&((_=c.$$.fragment)&&_.i&&(R.delete(_),_.i(y))),function(t,n,c,s){const{fragment:l,after_update:a}=t.$$;l&&l.m(n,c),s||H((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(H)}(c,s.target,s.anchor,s.customElement),B()}var _,y;A(h)}class Y{$destroy(){F(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const K=[];function V(t,e){return{subscribe:G(t,e).subscribe}}function G(e,n=t){let o;const r=new Set;function s(t){if(c(e,t)&&(e=t,o)){const t=!K.length;for(const t of r)t[1](),K.push(t,e);if(t){for(let t=0;t<K.length;t+=2)K[t][0](K[t+1]);K.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(c,l=t){const a=[c,l];return r.add(a),1===r.size&&(o=n(s)||t),c(e),()=>{r.delete(a),0===r.size&&o&&(o(),o=null)}}}}function J(e,n,c){const s=!Array.isArray(e),l=s?[e]:e,a=n.length<2;return V(c,(e=>{let c=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const o=n(s?u[0]:u,e);a?e(o):d=r(o)?o:t},h=l.map(((t,e)=>i(t,(t=>{u[e]=t,f&=~(1<<e),c&&p()}),(()=>{f|=1<<e}))));return c=!0,p(),function(){o(h),d(),c=!1}}))}const Q="https://api.syndikat.golf";async function W(t,e){const n=[],o=await fetch(`${Q}/products/${e}/${t}`,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),r=await o.json();return n.push(...r),n}function Z(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const tt=V(null,(function(t){t(Z());const e=()=>{t(Z())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));J(tt,(t=>t.location));const et=J(tt,(t=>t.querystring));async function nt(t){if(!t||t.length<1||"/"!=t.charAt(0)&&0!==t.indexOf("#/"))throw Error("Invalid parameter location");await(D(),z),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=("#"==t.charAt(0)?"":"#")+t}function ot(t,e,n){const o=t.slice();return o[29]=e[n],o}function rt(t,e,n){const o=t.slice();return o[26]=e[n],o}function ct(e){let n,r,c;return{c(){n=v("div"),n.innerHTML='<i class="ion ion-md-close"></i>',x(n,"class","search__close svelte-af9cs")},m(t,o){h(t,n,o),r||(c=[w(n,"click",e[16]),w(n,"keydown",e[17])],r=!0)},p:t,d(t){t&&g(n),r=!1,o(c)}}}function st(t){let e,n,o,r,c=t[4].length+"";return{c(){e=v("span"),n=y("("),o=y(c),r=y(")"),x(e,"class","product-count svelte-af9cs")},m(t,c){h(t,e,c),p(e,n),p(e,o),p(e,r)},p(t,e){16&e[0]&&c!==(c=t[4].length+"")&&S(o,c)},d(t){t&&g(e)}}}function lt(t){let e,n,o;return{c(){e=_("svg"),n=_("circle"),o=_("circle"),x(n,"class","bg svelte-af9cs"),x(o,"class","fg svelte-af9cs"),x(e,"width","24"),x(e,"height","24"),x(e,"viewBox","0 0 24 24"),x(e,"class","circular-progress svelte-af9cs"),L(e,"--progress",t[3])},m(t,r){h(t,e,r),p(e,n),p(e,o)},p(t,n){8&n[0]&&L(e,"--progress",t[3])},d(t){t&&g(e)}}}function at(t){let e,n,o,r;return{c(){e=v("div"),n=y("loading "),o=y(t[6]),r=y(" …"),x(e,"class","currently-fetching svelte-af9cs")},m(t,c){h(t,e,c),p(e,n),p(e,o),p(e,r)},p(t,e){64&e[0]&&S(o,t[6])},d(t){t&&g(e)}}}function it(t){let e,n=t[4],o=[];for(let e=0;e<n.length;e+=1)o[e]=ht(ot(t,n,e));let r=null;return n.length||(r=ft(t)),{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=b(),r&&r.c()},m(t,n){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,n);h(t,e,n),r&&r.m(t,n)},p(t,c){if(26646&c[0]){let s;for(n=t[4],s=0;s<n.length;s+=1){const r=ot(t,n,s);o[s]?o[s].p(r,c):(o[s]=ht(r),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length,!n.length&&r?r.p(t,c):n.length?r&&(r.d(1),r=null):(r=ft(t),r.c(),r.m(e.parentNode,e))}},d(t){m(o,t),t&&g(e),r&&r.d(t)}}}function ut(e){let n,o=Array(6),r=[];for(let t=0;t<o.length;t+=1)r[t]=gt(rt(e,o,t));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=b()},m(t,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(t,e);h(t,n,e)},p:t,d(t){m(r,t),t&&g(n)}}}function ft(t){let e;function n(t,e){return t[2]||!t[1]?pt:dt}let o=n(t),r=o(t);return{c(){r.c(),e=b()},m(t,n){r.m(t,n),h(t,e,n)},p(t,c){o===(o=n(t))&&r?r.p(t,c):(r.d(1),r=o(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&g(e)}}}function dt(t){let e,n,o,r,c,s;return{c(){e=v("div"),n=v("p"),o=y("Keine Produkte für "),r=y(t[1]),c=y(" gefunden."),s=$(),x(e,"class","col")},m(t,l){h(t,e,l),p(e,n),p(n,o),p(n,r),p(n,c),p(e,s)},p(t,e){2&e[0]&&S(r,t[1])},d(t){t&&g(e)}}}function pt(e){let n,r,c,s,l,a,i,u,f,d;return{c(){n=v("div"),r=v("p"),c=y('Suche zum Beispiel nach "'),s=v("a"),s.textContent="Harp",l=y('"\n            oder\n            "'),a=v("a"),a.textContent="Destroyer",i=y('".'),u=$(),x(s,"class","search-example svelte-af9cs"),x(s,"href",null),x(a,"class","search-example svelte-af9cs"),x(a,"href",null),x(n,"class","col")},m(t,o){h(t,n,o),p(n,r),p(r,c),p(r,s),p(r,l),p(r,a),p(r,i),p(n,u),f||(d=[w(s,"click",k(e[21])),w(a,"click",k(e[22]))],f=!0)},p:t,d(t){t&&g(n),f=!1,o(d)}}}function ht(t){let e,n,o,r,c,s,l,i,u,d,m,_,b,w,k,E,L,C,A,j,q,N,P,O,z,I,D,H,T,U=t[29].title+"",B=t[11][t[29].stockStatus]+"",M=t[14].format(t[29].price/100)+"";return{c(){e=v("div"),n=v("div"),o=v("div"),r=v("a"),c=v("img"),u=$(),d=v("div"),m=v("h2"),_=v("a"),b=y(U),k=$(),E=v("p"),L=v("span"),C=y(B),j=$(),q=v("strong"),N=y(M),P=$(),O=v("img"),I=$(),D=v("img"),T=$(),a(c.src,s=t[29].image||"/assets/images/image-not-found.jpg")||x(c,"src",s),x(c,"alt",l=t[29].title),x(c,"loading","lazy"),x(c,"width","200"),x(c,"height","200"),x(r,"href",i=t[29].url),x(r,"target","_blank"),x(r,"class","article__image svelte-af9cs"),x(o,"class","article__head"),x(_,"href",w=t[29].url),x(_,"target","_blank"),x(_,"class","svelte-af9cs"),x(m,"class","article__title svelte-af9cs"),x(L,"class",A=f(`inventory status-${t[29].stockStatus}`)+" svelte-af9cs"),a(O.src,z=`/assets/images/logos/${t[29].store}-light.png`)||x(O,"src",z),x(O,"class","store-logo hide-dark svelte-af9cs"),x(O,"alt","Store Logo"),a(D.src,H=`/assets/images/logos/${t[29].store}-dark.png`)||x(D,"src",H),x(D,"class","store-logo hide-light svelte-af9cs"),x(D,"alt","Store Logo"),x(d,"class","article__content"),x(n,"class","article__inner"),x(e,"class","article col col-4 col-d-6 col-t-12")},m(t,s){h(t,e,s),p(e,n),p(n,o),p(o,r),p(r,c),p(n,u),p(n,d),p(d,m),p(m,_),p(_,b),p(d,k),p(d,E),p(E,L),p(L,C),p(E,j),p(E,q),p(q,N),p(E,P),p(E,O),p(E,I),p(E,D),p(e,T)},p(t,e){16&e[0]&&!a(c.src,s=t[29].image||"/assets/images/image-not-found.jpg")&&x(c,"src",s),16&e[0]&&l!==(l=t[29].title)&&x(c,"alt",l),16&e[0]&&i!==(i=t[29].url)&&x(r,"href",i),16&e[0]&&U!==(U=t[29].title+"")&&S(b,U),16&e[0]&&w!==(w=t[29].url)&&x(_,"href",w),16&e[0]&&B!==(B=t[11][t[29].stockStatus]+"")&&S(C,B),16&e[0]&&A!==(A=f(`inventory status-${t[29].stockStatus}`)+" svelte-af9cs")&&x(L,"class",A),16&e[0]&&M!==(M=t[14].format(t[29].price/100)+"")&&S(N,M),16&e[0]&&!a(O.src,z=`/assets/images/logos/${t[29].store}-light.png`)&&x(O,"src",z),16&e[0]&&!a(D.src,H=`/assets/images/logos/${t[29].store}-dark.png`)&&x(D,"src",H)},d(t){t&&g(e)}}}function gt(e){let n;return{c(){n=v("div"),n.innerHTML='<div class="skeleton-image svelte-af9cs"></div> \n        <div class="skeleton-text svelte-af9cs"></div> \n      ',x(n,"class","skeleton col col-4 col-d-6 col-t-12 svelte-af9cs")},m(t,e){h(t,n,e)},p:t,d(t){t&&g(n)}}}function mt(e){let n,r,c,s,l,a,i,u,f,d,m,_,b,S,L,A,j,q,N,P,O,z,I=e[1]&&!e[6]&&ct(e);function D(t,e){return t[0]<t[9].length?lt:t[4].length?st:void 0}let T=D(e),U=T&&T(e),B=e[6]&&at(e);function M(t,e){return t[6]&&t[0]<t[9].length&&0===t[4].length?ut:it}let R=M(e),F=R(e);return{c(){n=v("form"),I&&I.c(),r=$(),c=v("label"),c.textContent="Suche nach Produkten",s=$(),l=v("input"),a=$(),i=v("button"),i.textContent="Suchen",u=$(),f=v("div"),d=v("h2"),m=y("Produkte\n    "),U&&U.c(),_=$(),B&&B.c(),b=$(),S=v("select"),L=v("option"),L.textContent="Standard",A=v("option"),A.textContent="Verfügbarkeit",j=v("option"),j.textContent="Preis aufsteigend",q=v("option"),q.textContent="Preis absteigend",N=$(),P=v("div"),F.c(),x(c,"for","js-product-input"),x(c,"class","screen-reader-text"),x(l,"type","text"),x(l,"class","search__text"),x(l,"id","js-product-input"),x(l,"placeholder","Suchen …"),x(i,"type","submit"),x(i,"class","button button--primary"),x(n,"class","search__group svelte-af9cs"),x(d,"class","svelte-af9cs"),L.__value="default",L.value=L.__value,A.__value="availability",A.value=A.__value,j.__value="price-ascending",j.value=j.__value,q.__value="price-descending",q.value=q.__value,void 0===e[5]&&H((()=>e[20].call(S))),x(f,"class","products-headline svelte-af9cs"),x(P,"class","row animate")},m(t,o){h(t,n,o),I&&I.m(n,null),p(n,r),p(n,c),p(n,s),p(n,l),E(l,e[1]),p(n,a),p(n,i),h(t,u,o),h(t,f,o),p(f,d),p(d,m),U&&U.m(d,null),p(f,_),B&&B.m(f,null),p(f,b),p(f,S),p(S,L),p(S,A),p(S,j),p(S,q),C(S,e[5],!0),h(t,N,o),h(t,P,o),F.m(P,null),O||(z=[w(l,"input",e[18]),w(i,"click",k(e[19])),w(S,"change",e[20]),w(S,"change",e[15])],O=!0)},p(t,e){t[1]&&!t[6]?I?I.p(t,e):(I=ct(t),I.c(),I.m(n,r)):I&&(I.d(1),I=null),2&e[0]&&l.value!==t[1]&&E(l,t[1]),T===(T=D(t))&&U?U.p(t,e):(U&&U.d(1),U=T&&T(t),U&&(U.c(),U.m(d,null))),t[6]?B?B.p(t,e):(B=at(t),B.c(),B.m(f,b)):B&&(B.d(1),B=null),32&e[0]&&C(S,t[5]),R===(R=M(t))&&F?F.p(t,e):(F.d(1),F=R(t),F&&(F.c(),F.m(P,null)))},i:t,o:t,d(t){t&&g(n),I&&I.d(),t&&g(u),t&&g(f),U&&U.d(),B&&B.d(),t&&g(N),t&&g(P),F.d(),O=!1,o(z)}}}function vt(t,e,n){const o=[...t].sort(((t,n)=>t[e]<n[e]?1:t[e]>=n[e]?-1:0));return n?o.reverse():o}function _t(t,e,n){let o,r,c,s,l;u(t,et,(t=>n(24,r=t)));const a=G([]);u(t,a,(t=>n(4,c=t)));const i=G("");u(t,i,(t=>n(6,l=t)));let f=[],p=!0;const h=["chooseyourdisc","insidethecircle","discwolf","frisbeeshop","discgolfstore","crosslap","thrownatur","birdieshop","discgolf4you"];let g=h.length;const m=G(localStorage.sort||"default");u(t,m,(t=>n(5,s=t))),m.subscribe((t=>localStorage.sort=t));let v="";const _=()=>{n(1,v=""),nt("/"),d(a,c=[],c)},y=async()=>{if(!v)return nt("/"),n(2,p=!0),a.set([]);window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"product-search",query:v}),f=[],n(2,p=!1),nt(`/?q=${encodeURIComponent(v)}`),a.set([]),n(0,g=0);for(const t of h){i.set(t);const e=await W(v,t);a.update((t=>[...t,...e])),n(0,g++,g),f.push(...e),b()}i.set("")},$=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}),b=()=>d(a,c="price-descending"===s?vt(c,"price"):"price-ascending"===s?vt(c,"price",!0):"availability"===s?vt(c,"stockStatus",!0):f,c);j((async()=>{document.querySelector("#js-product-input").focus(),n(1,v=new URLSearchParams(r).get("q")||""),await y()}));return t.$$.update=()=>{2&t.$$.dirty[0]&&n(1,v=v.toLowerCase()),1&t.$$.dirty[0]&&n(3,o=parseInt(g/h.length*100))},[g,v,p,o,c,s,l,a,i,h,m,{available:"Auf Lager",unavailable:"Nicht auf Lager",unknown:"Unbekannt"},_,y,$,b,()=>_(),()=>_(),function(){v=this.value,n(1,v)},()=>y(),function(){s=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),m.set(s)},()=>{n(1,v="Harp"),y()},()=>{n(1,v="Destroyer"),y()}]}class yt extends Y{constructor(t){super(),X(this,t,_t,mt,c,{},null,[-1,-1])}}document.querySelector("#product-search-app")&&new yt({target:document.querySelector("#product-search-app")})}();
//# sourceMappingURL=svelte-bundle.js.map
